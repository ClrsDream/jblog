<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{/layout/app :: layout(~{::title}, ~{::#content})}">
<head>
    <title>JBlog - 基于Spring Boot开发的最美文章发布系统</title>
</head>
<body>
<div id="content">

    <div class="max-w-2xl mx-auto flex sm:flex-col md:flex-row py-10">
        <div class="flex-1">
            <div class="text-xl my-3">
                <a th:href="@{${router.INDEX_PARAM}(type='new')}" th:if="${sortType} eq 'new'" class="text-indigo-500 mr-5">最新内容</a>
                <a th:href="@{${router.INDEX_PARAM}(type='new')}" th:unless="${sortType} eq 'new'" class="text-gray-500 mr-5">最新内容</a>
                <a th:href="@{${router.INDEX_PARAM}(type='hot')}" th:if="${sortType} eq 'hot'" class="text-indigo-500">热门推荐</a>
                <a th:href="@{${router.INDEX_PARAM}(type='hot')}" th:unless="${sortType} eq 'hot'" class="text-gray-500">热门推荐</a>
            </div>
            <div class="pt-5">
                <div class="mt-3 border-b border-gray-600" th:each="post : ${posts}">
                    <a href="#" class="h-14 w-full inline-block">
                        <div class="float-left h-14">
                            <img th:src="${post.getUser().getAvatar()}" class="w-12 h-12 mt-1 mb-1 rounded-full" th:alt="${post.getUser().getNickname()}">
                        </div>
                        <div class="float-left h-14 ml-3">
                            <span class="text-lg h-6 mb-1 text-gray-500">[[${post.getUser().getNickname()}]]</span><br>
                            <span class="text-gray-600 h-6 mt-1 leading-normal text-sm">
                                <i class="fa fa-calendar mr-1" aria-hidden="true"></i> [[${post.getPublishedAt()}]]
                            </span>
                        </div>
                    </a>
                    <a th:href="@{${router.POST_DETAIL}(id=${post.getId()})}" class="w-full inline-block py-4 text-2xl text-gray-400 hover:text-gray-300">[[${post.getTitle()}]]</a>
                    <p class="text-gray-600 py-2 leading-relaxed">[[${post.getContent()}]]</p>
                    <div class="py-2 inline-block">
                        <a class="inline-block px-4 py-1 bg-gray-600 mr-2 mb-2 rounded-lg text-gray-300">PHP</a>
                        <a class="inline-block px-4 py-1 bg-gray-600 mr-2 mb-2 rounded-lg text-gray-300">Java</a>
                    </div>
                </div>
            </div>
            <div class="mt-5 text-right">
                <a class="inline-block px-3 py-1 text-gray-500 bg-gray-700 rounded-lg" th:if="${page} > 0" th:href="@{${router.INDEX_PARAM}(type=${sortType},page=${page})}">上一页</a>
                <a class="inline-block px-3 py-1 text-gray-500 bg-gray-700 rounded-lg">共[[${posts.getTotalPages()}]]页</a>
                <a class="inline-block px-3 py-1 text-gray-500 bg-gray-700 rounded-lg" th:if="${posts.getTotalPages()} - 1 > ${page}" th:href="@{${router.INDEX_PARAM}(type=${sortType},page=${page}+2)}">下一页</a>
            </div>
        </div>
    </div>

</div>
</body>
</html>